{"ast":null,"code":"import _objectSpread from\"/Users/nawel/Documents/GitHub/EpiGreen-Ing2/proto-front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/nawel/Documents/GitHub/EpiGreen-Ing2/proto-front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/nawel/Documents/GitHub/EpiGreen-Ing2/proto-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nawel/Documents/GitHub/EpiGreen-Ing2/proto-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from\"axios\";import'../styles/Sample.css';import{GET_SAMPLES,LOCAL_HOST_SAMPLE,UPDATE_SAMPLES}from\"../constants/back\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Sample(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),samples=_useState2[0],setSamples=_useState2[1];var setSampleData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:axios.get(GET_SAMPLES).then(function(response){setSamples(response.data);}).catch(function(error){alert(\"Error Ocurred while loading data:\"+error);});case 1:case\"end\":return _context.stop();}},_callee);}));return function setSampleData(){return _ref.apply(this,arguments);};}();var confirmRemoveSample=function confirmRemoveSample(id){if(window.confirm('Are you sure?')){// Delete it!\nremoveSample(id);}};var removeSample=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:axios.delete(LOCAL_HOST_SAMPLE+id).then(function(response){setSampleData();}).catch(function(error){alert(\"Error Ocurred in removeSample:\"+error);});case 1:case\"end\":return _context2.stop();}},_callee2);}));return function removeSample(_x){return _ref2.apply(this,arguments);};}();var handleChangeDate=function handleChangeDate(idSample,newDate){setSamples(function(prevData){return prevData.map(function(row){return row.idSample===idSample?_objectSpread(_objectSpread({},row),{},{dateSample:newDate}):row;});});};var updateDate=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sample){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:axios.post(UPDATE_SAMPLES,sample).then(function(response){setSampleData();}).catch(function(error){alert(\"Error Ocurred in updateDate:\"+error);});case 1:case\"end\":return _context3.stop();}},_callee3);}));return function updateDate(_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){setSampleData();},[]);if(samples.length===0)return/*#__PURE__*/_jsx(\"div\",{className:\"container text-center\",children:\"No samples\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\" mx-2\",children:\"Samples List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"String\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Float\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-group-divider\",children:samples.map(function(sample,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:sample.idSample}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",\"aria-describedby\":\"button-addon2\",value:sample.dateSample.substring(0,10),onChange:function onChange(e){return handleChangeDate(sample.idSample,e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",type:\"button\",id:\"button-addon2\",onClick:function onClick(){return updateDate(sample);},children:\"Save\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:sample.stringSample}),/*#__PURE__*/_jsx(\"td\",{children:sample.floatSample}),/*#__PURE__*/_jsx(\"td\",{children:sample.sampleType}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",onClick:function onClick(){return confirmRemoveSample(sample.idSample);},children:\"Delete\"})})]},index);})})]})})]});};","map":{"version":3,"names":["React","useEffect","useState","axios","GET_SAMPLES","LOCAL_HOST_SAMPLE","UPDATE_SAMPLES","jsx","_jsx","jsxs","_jsxs","Sample","_useState","_useState2","_slicedToArray","samples","setSamples","setSampleData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","then","response","data","catch","error","alert","stop","apply","arguments","confirmRemoveSample","id","window","confirm","removeSample","_ref2","_callee2","_callee2$","_context2","delete","_x","handleChangeDate","idSample","newDate","prevData","map","row","_objectSpread","dateSample","updateDate","_ref3","_callee3","sample","_callee3$","_context3","post","_x2","length","className","children","scope","index","type","value","substring","onChange","e","target","onClick","stringSample","floatSample","sampleType"],"sources":["/Users/nawel/Documents/GitHub/EpiGreen-Ing2/proto-front/src/components/Sample.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport '../styles/Sample.css';\nimport {GET_SAMPLES, LOCAL_HOST_SAMPLE, UPDATE_SAMPLES} from \"../constants/back\";\n\nexport default function Sample() {\n  const [samples, setSamples] = useState([]);\n  const setSampleData = async () => {\n    axios.get(GET_SAMPLES).then((response) => {\n      setSamples(response.data);\n    }).catch(error => {\n      alert(\"Error Ocurred while loading data:\" + error);\n    });\n  }\n  const confirmRemoveSample = (id) => {\n    if (window.confirm('Are you sure?')) {\n      // Delete it!\n      removeSample(id);\n    }\n  };\n  const removeSample = async (id) => {\n    axios.delete(LOCAL_HOST_SAMPLE + id).then((response) => {\n      setSampleData();\n    }).catch(error => {\n      alert(\"Error Ocurred in removeSample:\" + error);\n    });\n  }\n\n  const handleChangeDate = (idSample, newDate) => {\n    setSamples( prevData => prevData.map(\n        row => row.idSample === idSample ? { ...row, dateSample: newDate} :row)\n    );\n  }\n  const updateDate = async (sample) => {\n    axios.post(UPDATE_SAMPLES, sample).then((response) => {\n      setSampleData();\n    }).catch(error => {\n      alert(\"Error Ocurred in updateDate:\" + error);\n    });\n  }\n\n  useEffect(() => {\n    setSampleData();\n  }, []);\n\n  if (samples.length === 0)\n    return (<div className=\"container text-center\" >No samples</div>)\n  return (\n      <div className=\"container text-center\">\n      <h4 className=\" mx-2\">Samples List</h4>\n      <div className=\"row\">\n        <table className=\"table table-sm table-bordered table-hover\">\n          <thead>\n          <tr>\n            <th scope=\"col\">Id</th>\n            <th scope=\"col\">Date</th>\n            <th scope=\"col\">String</th>\n            <th scope=\"col\">Float</th>\n            <th scope=\"col\">Type</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n          </thead>\n          <tbody className=\"table-group-divider\">\n          {\n              samples.map( (sample, index) => (\n                  <tr key={index}>\n                    <th scope=\"row\">{sample.idSample}</th>\n                    <td>\n                      <div className=\"input-group mb-3\">\n                        <input type=\"date\"\n                               className=\"form-control\"\n                               aria-describedby=\"button-addon2\"\n                               value={sample.dateSample.substring(0,10)}\n                               onChange={e => handleChangeDate(sample.idSample, e.target.value)}\n                        />\n                          <button className=\"btn btn-outline-primary\"\n                                  type=\"button\"\n                                  id=\"button-addon2\"\n                                  onClick={() => updateDate(sample)}\n                          >Save</button>\n                      </div>\n                    </td>\n                    <td>{sample.stringSample}</td>\n                    <td>{sample.floatSample}</td>\n                    <td>{sample.sampleType}</td>\n                    <td>\n                      <button type=\"button\"\n                              className=\"btn btn-outline-danger\"\n                              onClick={() => confirmRemoveSample(sample.idSample)}\n                      >Delete</button>\n                    </td>\n                  </tr>\n\n              ))\n          }\n\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"mkBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,sBAAsB,CAC7B,OAAQC,WAAW,CAAEC,iBAAiB,CAAEC,cAAc,KAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjF,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,IAAAC,SAAA,CAA8BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,GAAM,CAAAI,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpBxB,KAAK,CAACyB,GAAG,CAACxB,WAAW,CAAC,CAACyB,IAAI,CAAC,SAACC,QAAQ,CAAK,CACxCd,UAAU,CAACc,QAAQ,CAACC,IAAI,CAAC,CAC3B,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChBC,KAAK,CAAC,mCAAmC,CAAGD,KAAK,CAAC,CACpD,CAAC,CAAC,CAAC,wBAAAR,QAAA,CAAAU,IAAA,MAAAb,OAAA,GACJ,kBANK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAMlB,CACD,GAAM,CAAAC,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,EAAE,CAAK,CAClC,GAAIC,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,CAAE,CACnC;AACAC,YAAY,CAACH,EAAE,CAAC,CAClB,CACF,CAAC,CACD,GAAM,CAAAG,YAAY,6BAAAC,KAAA,CAAAxB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAuB,SAAOL,EAAE,SAAAnB,mBAAA,GAAAG,IAAA,UAAAsB,UAAAC,SAAA,iBAAAA,SAAA,CAAApB,IAAA,CAAAoB,SAAA,CAAAnB,IAAA,SAC5BxB,KAAK,CAAC4C,MAAM,CAAC1C,iBAAiB,CAAGkC,EAAE,CAAC,CAACV,IAAI,CAAC,SAACC,QAAQ,CAAK,CACtDb,aAAa,CAAC,CAAC,CACjB,CAAC,CAAC,CAACe,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChBC,KAAK,CAAC,gCAAgC,CAAGD,KAAK,CAAC,CACjD,CAAC,CAAC,CAAC,wBAAAa,SAAA,CAAAX,IAAA,MAAAS,QAAA,GACJ,kBANK,CAAAF,YAAYA,CAAAM,EAAA,SAAAL,KAAA,CAAAP,KAAA,MAAAC,SAAA,OAMjB,CAED,GAAM,CAAAY,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,QAAQ,CAAEC,OAAO,CAAK,CAC9CnC,UAAU,CAAE,SAAAoC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,GAAG,CAChC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACJ,QAAQ,GAAKA,QAAQ,CAAAK,aAAA,CAAAA,aAAA,IAAQD,GAAG,MAAEE,UAAU,CAAEL,OAAO,GAAGG,GAAG,GAAC,EAC3E,CAAC,CACH,CAAC,CACD,GAAM,CAAAG,UAAU,6BAAAC,KAAA,CAAAvC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAsC,SAAOC,MAAM,SAAAxC,mBAAA,GAAAG,IAAA,UAAAsC,UAAAC,SAAA,iBAAAA,SAAA,CAAApC,IAAA,CAAAoC,SAAA,CAAAnC,IAAA,SAC9BxB,KAAK,CAAC4D,IAAI,CAACzD,cAAc,CAAEsD,MAAM,CAAC,CAAC/B,IAAI,CAAC,SAACC,QAAQ,CAAK,CACpDb,aAAa,CAAC,CAAC,CACjB,CAAC,CAAC,CAACe,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChBC,KAAK,CAAC,8BAA8B,CAAGD,KAAK,CAAC,CAC/C,CAAC,CAAC,CAAC,wBAAA6B,SAAA,CAAA3B,IAAA,MAAAwB,QAAA,GACJ,kBANK,CAAAF,UAAUA,CAAAO,GAAA,SAAAN,KAAA,CAAAtB,KAAA,MAAAC,SAAA,OAMf,CAEDpC,SAAS,CAAC,UAAM,CACdgB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,OAAO,CAACkD,MAAM,GAAK,CAAC,CACtB,mBAAQzD,IAAA,QAAK0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE,YAAU,CAAK,CAAC,CAClE,mBACIzD,KAAA,QAAKwD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACtC3D,IAAA,OAAI0D,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACvC3D,IAAA,QAAK0D,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBzD,KAAA,UAAOwD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eAC1D3D,IAAA,UAAA2D,QAAA,cACAzD,KAAA,OAAAyD,QAAA,eACE3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,IAAE,CAAI,CAAC,cACvB3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cACzB3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,QAAM,CAAI,CAAC,cAC3B3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,OAAK,CAAI,CAAC,cAC1B3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cACzB3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,EAC1B,CAAC,CACE,CAAC,cACR3D,IAAA,UAAO0D,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAElCpD,OAAO,CAACsC,GAAG,CAAE,SAACO,MAAM,CAAES,KAAK,qBACvB3D,KAAA,OAAAyD,QAAA,eACE3D,IAAA,OAAI4D,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAEP,MAAM,CAACV,QAAQ,CAAK,CAAC,cACtC1C,IAAA,OAAA2D,QAAA,cACEzD,KAAA,QAAKwD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B3D,IAAA,UAAO8D,IAAI,CAAC,MAAM,CACXJ,SAAS,CAAC,cAAc,CACxB,mBAAiB,eAAe,CAChCK,KAAK,CAAEX,MAAM,CAACJ,UAAU,CAACgB,SAAS,CAAC,CAAC,CAAC,EAAE,CAAE,CACzCC,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAzB,gBAAgB,CAACW,MAAM,CAACV,QAAQ,CAAEwB,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAC,CACvE,CAAC,cACA/D,IAAA,WAAQ0D,SAAS,CAAC,yBAAyB,CACnCI,IAAI,CAAC,QAAQ,CACb/B,EAAE,CAAC,eAAe,CAClBqC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAnB,UAAU,CAACG,MAAM,CAAC,EAAC,CAAAO,QAAA,CACzC,MAAI,CAAQ,CAAC,EACb,CAAC,CACJ,CAAC,cACL3D,IAAA,OAAA2D,QAAA,CAAKP,MAAM,CAACiB,YAAY,CAAK,CAAC,cAC9BrE,IAAA,OAAA2D,QAAA,CAAKP,MAAM,CAACkB,WAAW,CAAK,CAAC,cAC7BtE,IAAA,OAAA2D,QAAA,CAAKP,MAAM,CAACmB,UAAU,CAAK,CAAC,cAC5BvE,IAAA,OAAA2D,QAAA,cACE3D,IAAA,WAAQ8D,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,wBAAwB,CAClCU,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAtC,mBAAmB,CAACsB,MAAM,CAACV,QAAQ,CAAC,EAAC,CAAAiB,QAAA,CAC3D,QAAM,CAAQ,CAAC,CACd,CAAC,GAzBEE,KA0BL,CAAC,EAER,CAAC,CAGC,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}